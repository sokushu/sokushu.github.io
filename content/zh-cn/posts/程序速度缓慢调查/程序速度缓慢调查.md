---
title: "程序运行缓慢的调查，很屎的代码"
date: 2022-01-17
lastmod: 2022-01-17
draft: false
tags: ["PostgreSQL"]
categories: ["BUG发现与解决"]
authors:
- "牛奶"
---

事情是这样的：
前几天要我调查一个程序运行缓慢的问题。

## 问题信息

这个程序是一个C#的WinFrom程序，是一个PDF印刷的处理程序，

问题是程序的处理时间过长，一个不多的数据量，处理起来竟然要3分钟以上。

## 问题定位

通过翻看代码和DEBUG，发现在Socket链接的时候使用了Thread.Sleep(100)这样的语句。

当然，这并不是一个大问题，问题是他在循环当中使用了Thread.Sleep(100)语句，也就导致了，随着数据量的上升，处理时间越来越长。每项的处理都要耗时0.1秒。

## 问题解决

既然知道了问题是这种神奇的操作之后，也就很好解决了，将Thread.Sleep(100)全部注释掉。

一个很屎的BUG。